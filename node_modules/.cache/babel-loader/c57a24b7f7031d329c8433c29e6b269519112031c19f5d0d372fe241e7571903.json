{"ast":null,"code":"// redux/charitySlice.js\nconst charitySlice = createSlice({\n  name: 'charity',\n  initialState: {\n    charities: [],\n    donors: [],\n    totalDonations: 0,\n    beneficiaries: [],\n    inventory: [],\n    stories: {},\n    charityApplications: [] // Track charity applications\n  },\n  reducers: {\n    setCharityDetails: (state, action) => {\n      const charity = state.charityApplications.find(c => c.id === action.payload.id);\n      if (charity && charity.status === 'approved') {\n        state.charities.push({\n          ...action.payload,\n          status: 'active'\n        }); // Set up charity if approved\n      } else {\n        alert('Your charity application has not been approved yet.');\n      }\n    },\n    approveCharity: (state, action) => {\n      const charityId = action.payload;\n      const charity = state.charityApplications.find(c => c.id === charityId);\n      if (charity) {\n        charity.status = 'approved';\n      }\n    },\n    rejectCharity: (state, action) => {\n      const charityId = action.payload;\n      const charity = state.charityApplications.find(c => c.id === charityId);\n      if (charity) {\n        charity.status = 'rejected';\n      }\n    },\n    deleteCharity: (state, action) => {\n      const charityId = action.payload;\n      state.charities = state.charities.filter(c => c.id !== charityId);\n      state.charityApplications = state.charityApplications.filter(c => c.id !== charityId);\n    },\n    setDonors: (state, action) => {\n      state.donors = action.payload;\n    },\n    setTotalDonations: (state, action) => {\n      state.totalDonations = action.payload;\n    },\n    setInventory: (state, action) => {\n      state.inventory = action.payload;\n    },\n    addBeneficiary: (state, action) => {\n      state.beneficiaries.push(action.payload);\n    },\n    addStory: (state, action) => {\n      const {\n        charityId,\n        title,\n        content\n      } = action.payload;\n      if (!state.stories[charityId]) {\n        state.stories[charityId] = [];\n      }\n      state.stories[charityId].push({\n        title,\n        content\n      });\n    }\n  }\n});\nexport const {\n  setCharityDetails,\n  approveCharity,\n  rejectCharity,\n  deleteCharity,\n  setDonors,\n  setTotalDonations,\n  setInventory,\n  addBeneficiary,\n  addStory\n} = charitySlice.actions;\nexport default charitySlice.reducer;","map":{"version":3,"names":["charitySlice","createSlice","name","initialState","charities","donors","totalDonations","beneficiaries","inventory","stories","charityApplications","reducers","setCharityDetails","state","action","charity","find","c","id","payload","status","push","alert","approveCharity","charityId","rejectCharity","deleteCharity","filter","setDonors","setTotalDonations","setInventory","addBeneficiary","addStory","title","content","actions","reducer"],"sources":["/home/steve/Development/code/phase 5/donate 2/src/redux/charitySlice.js"],"sourcesContent":["// redux/charitySlice.js\nconst charitySlice = createSlice({\n  name: 'charity',\n  initialState: {\n    charities: [], \n    donors: [],\n    totalDonations: 0,\n    beneficiaries: [],\n    inventory: [],\n    stories: {}, \n    charityApplications: [], // Track charity applications\n  },\n  reducers: {\n    setCharityDetails: (state, action) => {\n      const charity = state.charityApplications.find(c => c.id === action.payload.id);\n      if (charity && charity.status === 'approved') {\n        state.charities.push({ ...action.payload, status: 'active' }); // Set up charity if approved\n      } else {\n        alert('Your charity application has not been approved yet.');\n      }\n    },\n    approveCharity: (state, action) => {\n      const charityId = action.payload;\n      const charity = state.charityApplications.find(c => c.id === charityId);\n      if (charity) {\n        charity.status = 'approved';\n      }\n    },\n    rejectCharity: (state, action) => {\n      const charityId = action.payload;\n      const charity = state.charityApplications.find(c => c.id === charityId);\n      if (charity) {\n        charity.status = 'rejected';\n      }\n    },\n    deleteCharity: (state, action) => {\n      const charityId = action.payload;\n      state.charities = state.charities.filter(c => c.id !== charityId);\n      state.charityApplications = state.charityApplications.filter(c => c.id !== charityId);\n    },\n    setDonors: (state, action) => {\n      state.donors = action.payload;\n    },\n    setTotalDonations: (state, action) => {\n      state.totalDonations = action.payload;\n    },\n    setInventory: (state, action) => {\n      state.inventory = action.payload;\n    },\n    addBeneficiary: (state, action) => {\n      state.beneficiaries.push(action.payload);\n    },\n    addStory: (state, action) => {\n      const { charityId, title, content } = action.payload;\n      if (!state.stories[charityId]) {\n        state.stories[charityId] = [];\n      }\n      state.stories[charityId].push({ title, content });\n    },\n  },\n});\n\nexport const {\n  setCharityDetails,\n  approveCharity,\n  rejectCharity,\n  deleteCharity,\n  setDonors,\n  setTotalDonations,\n  setInventory,\n  addBeneficiary,\n  addStory,\n} = charitySlice.actions;\n\nexport default charitySlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}